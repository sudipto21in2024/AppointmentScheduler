%%{init: {"theme": "base", "themeVariables": {"primaryColor": "#2563EB", "secondaryColor": "#1D4ED8", "lineColor": "#6B7280"}}}%%
graph TD
    %% Application Root
    AppRoot[Container: fluid=true, padding="0"]

    %% Global Navigation (Header)
    AppRoot --> GlobalNavWrapper[Box:]
    GlobalNavWrapper --> GlobalNav[Navbar: brand="AppointmentScheduler", items=["Dashboard", "Services", "Bookings", "Profile"]]

    %% Main Content Wrapper
    AppRoot --> MainContentWrapper[Flex: direction="row", align="start", gap="0"]
    MainContentWrapper --> SidebarNav[Sidebar: items=["Dashboard", "Services", "Bookings", "Customers", "Settings", "Help", "Logout"]]
    MainContentWrapper --> PrimaryContentArea[Container: maxWidth="1200px", padding="24px"]

    %% Header Section
    PrimaryContentArea --> HeaderSection[Flex: direction="row", justify="space-between", align="center"]
    HeaderSection --> PageHeading[Heading: level=1, text="Find Services"]
    HeaderSection --> BookAppointmentButton[Button: variant="primary", text="Book Appointment"]
    
    %% Search and Filter Section
    PrimaryContentArea --> SearchFilterSection[Flex: direction="row", gap="16px", responsive=true]
    SearchFilterSection --> SearchBox[SearchBox: placeholder="Search services...", flex=1]
    SearchFilterSection --> FilterBar[FilterBar: filters=["Category", "Price Range", "Rating", "Availability"]]
    SearchFilterSection --> SortButton[Button: variant="secondary", icon="sort", text="Sort"]
    
    %% Service Listings
    PrimaryContentArea --> ServiceListings[Grid: columns={desktop: 3, tablet: 2, mobile: 1}, gap="24px"]
    ServiceListings --> ServiceCard1[ServiceCard: title="Haircut", description="Professional haircut with styling", duration="30 min", price="$25", rating=4.8, image="/images/haircut.jpg"]
    ServiceListings --> ServiceCard2[ServiceCard: title="Beard Trim", description="Precision beard trimming and styling", duration="15 min", price="$15", rating=4.9, image="/images/beard-trim.jpg"]
    ServiceListings --> ServiceCard3[ServiceCard: title="Hair Coloring", description="Full hair coloring service", duration="2 hours", price="$80", rating=4.7, image="/images/hair-coloring.jpg"]
    ServiceListings --> ServiceCard4[ServiceCard: title="Manicure", description="Complete nail care service", duration="45 min", price="$30", rating=4.9, image="/images/manicure.jpg"]
    
    %% Pagination
    PrimaryContentArea --> Pagination[Pagination: total=48, current=1, pageSize=12]
    
    %% Global Footer
    AppRoot --> GlobalFooter[Box: padding="24px", background="#F3F4F6"]
    GlobalFooter --> FooterText[Text: content="Â© 2025 AppointmentScheduler. All rights reserved.", align="center"]

    %% Styling for new components
    style AppRoot fill:#F3F4F6,stroke:none
    style GlobalNavWrapper fill:#FFFFFF,stroke:none
    style GlobalNav fill:#FFFFFF,stroke:none,border-bottom:1px solid #E5E7EB
    style MainContentWrapper fill:none,stroke:none
    style SidebarNav fill:#FFFFFF,stroke:none,width:200px,border-right:1px solid #E5E7EB
    style GlobalFooter fill:#F3F4F6,stroke:none
    style FooterText fill:#6B7280,stroke:none,font-size:12px

    %% Styling for existing components, adjusted to new structure
    style PrimaryContentArea fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style HeaderSection fill:#FFFFFF,stroke:none
    style PageHeading fill:#11827,stroke:none
    style BookAppointmentButton fill:#2563EB,stroke:#2563EB,stroke-width:1px,color:#FFFFFF
    style SearchFilterSection fill:#FFFFFF,stroke:none
    style SearchBox fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style FilterBar fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style SortButton fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style ServiceListings fill:#FFFFFF,stroke:none
    style ServiceCard1 fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style ServiceCard2 fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style ServiceCard3 fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style ServiceCard4 fill:#FFFFFF,stroke:#D1D5DB,stroke-width:1px
    style Pagination fill:#FFFFFF,stroke:none